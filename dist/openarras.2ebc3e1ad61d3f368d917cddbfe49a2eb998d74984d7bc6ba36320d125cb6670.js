(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(l){var y=0;return function(){return y<l.length?{done:!1,value:l[y++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.makeIterator=function(l){var y="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return y?y.call(l):$jscomp.arrayIterator(l)};$jscomp.arrayFromIterator=function(l){for(var y,A=[];!(y=l.next()).done;)A.push(y.value);return A};
$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};$jscomp.getRestArguments=function(){for(var l=Number(this),y=[],A=l;A<arguments.length;A++)y[A-l]=arguments[A];return y};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var y=0;y<l.length;++y){var A=l[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,y,A){if(l==Array.prototype||l==Object.prototype)return l;l[y]=A.value;return l};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";
var $jscomp$lookupPolyfilledValue=function(l,y){var A=$jscomp.propertyToPolyfillSymbol[y];if(null==A)return l[y];A=l[A];return void 0!==A?A:l[y]};$jscomp.polyfill=function(l,y,A,L){y&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,y,A,L):$jscomp.polyfillUnisolated(l,y,A,L))};
$jscomp.polyfillUnisolated=function(l,y,A,L){A=$jscomp.global;l=l.split(".");for(L=0;L<l.length-1;L++){var G=l[L];if(!(G in A))return;A=A[G]}l=l[l.length-1];L=A[l];y=y(L);y!=L&&null!=y&&$jscomp.defineProperty(A,l,{configurable:!0,writable:!0,value:y})};
$jscomp.polyfillIsolated=function(l,y,A,L){var G=l.split(".");l=1===G.length;L=G[0];L=!l&&L in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ea=0;ea<G.length-1;ea++){var B=G[ea];if(!(B in L))return;L=L[B]}G=G[G.length-1];A=$jscomp.IS_SYMBOL_NATIVE&&"es6"===A?L[G]:null;y=y(A);null!=y&&(l?$jscomp.defineProperty($jscomp.polyfills,G,{configurable:!0,writable:!0,value:y}):y!==A&&(void 0===$jscomp.propertyToPolyfillSymbol[G]&&(A=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[G]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(G):$jscomp.POLYFILL_PREFIX+A+"$"+G),$jscomp.defineProperty(L,$jscomp.propertyToPolyfillSymbol[G],{configurable:!0,writable:!0,value:y})))};
$jscomp.polyfill("Promise",function(l){function y(){this.batch_=null}function A(B){return B instanceof G?B:new G(function(N,U){N(B)})}if(l&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return l;y.prototype.asyncExecute=function(B){if(null==this.batch_){this.batch_=[];var N=this;this.asyncExecuteFunction(function(){N.executeBatch_()})}this.batch_.push(B)};
var L=$jscomp.global.setTimeout;y.prototype.asyncExecuteFunction=function(B){L(B,0)};y.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var B=this.batch_;this.batch_=[];for(var N=0;N<B.length;++N){var U=B[N];B[N]=null;try{U()}catch(V){this.asyncThrow_(V)}}}this.batch_=null};y.prototype.asyncThrow_=function(B){this.asyncExecuteFunction(function(){throw B;})};var G=function(B){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var N=this.createResolveAndReject_();
try{B(N.resolve,N.reject)}catch(U){N.reject(U)}};G.prototype.createResolveAndReject_=function(){function B(V){return function(ka){U||(U=!0,V.call(N,ka))}}var N=this,U=!1;return{resolve:B(this.resolveTo_),reject:B(this.reject_)}};G.prototype.resolveTo_=function(B){if(B===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(B instanceof G)this.settleSameAsPromise_(B);else{a:switch(typeof B){case "object":var N=null!=B;break a;case "function":N=!0;break a;default:N=!1}N?this.resolveToNonPromiseObj_(B):
this.fulfill_(B)}};G.prototype.resolveToNonPromiseObj_=function(B){var N=void 0;try{N=B.then}catch(U){this.reject_(U);return}"function"==typeof N?this.settleSameAsThenable_(N,B):this.fulfill_(B)};G.prototype.reject_=function(B){this.settle_(2,B)};G.prototype.fulfill_=function(B){this.settle_(1,B)};G.prototype.settle_=function(B,N){if(0!=this.state_)throw Error("Cannot settle("+B+", "+N+"): Promise already settled in state"+this.state_);this.state_=B;this.result_=N;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};G.prototype.scheduleUnhandledRejectionCheck_=function(){var B=this;L(function(){if(B.notifyUnhandledRejection_()){var N=$jscomp.global.console;"undefined"!==typeof N&&N.error(B.result_)}},1)};G.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var B=$jscomp.global.CustomEvent,N=$jscomp.global.Event,U=$jscomp.global.dispatchEvent;if("undefined"===typeof U)return!0;"function"===typeof B?B=new B("unhandledrejection",{cancelable:!0}):
"function"===typeof N?B=new N("unhandledrejection",{cancelable:!0}):(B=$jscomp.global.document.createEvent("CustomEvent"),B.initCustomEvent("unhandledrejection",!1,!0,B));B.promise=this;B.reason=this.result_;return U(B)};G.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var B=0;B<this.onSettledCallbacks_.length;++B)ea.asyncExecute(this.onSettledCallbacks_[B]);this.onSettledCallbacks_=null}};var ea=new y;G.prototype.settleSameAsPromise_=function(B){var N=this.createResolveAndReject_();
B.callWhenSettled_(N.resolve,N.reject)};G.prototype.settleSameAsThenable_=function(B,N){var U=this.createResolveAndReject_();try{B.call(N,U.resolve,U.reject)}catch(V){U.reject(V)}};G.prototype.then=function(B,N){function U(ia,ua){return"function"==typeof ia?function(Fa){try{V(ia(Fa))}catch(ba){ka(ba)}}:ua}var V,ka,pa=new G(function(ia,ua){V=ia;ka=ua});this.callWhenSettled_(U(B,V),U(N,ka));return pa};G.prototype.catch=function(B){return this.then(void 0,B)};G.prototype.callWhenSettled_=function(B,
N){function U(){switch(V.state_){case 1:B(V.result_);break;case 2:N(V.result_);break;default:throw Error("Unexpected state: "+V.state_);}}var V=this;null==this.onSettledCallbacks_?ea.asyncExecute(U):this.onSettledCallbacks_.push(U);this.isRejectionHandled_=!0};G.resolve=A;G.reject=function(B){return new G(function(N,U){U(B)})};G.race=function(B){return new G(function(N,U){for(var V=$jscomp.makeIterator(B),ka=V.next();!ka.done;ka=V.next())A(ka.value).callWhenSettled_(N,U)})};G.all=function(B){var N=
$jscomp.makeIterator(B),U=N.next();return U.done?A([]):new G(function(V,ka){function pa(Fa){return function(ba){ia[Fa]=ba;ua--;0==ua&&V(ia)}}var ia=[],ua=0;do ia.push(void 0),ua++,A(U.value).callWhenSettled_(pa(ia.length-1),ka),U=N.next();while(!U.done)})};return G},"es6","es3");$jscomp.findInternal=function(l,y,A){l instanceof String&&(l=String(l));for(var L=l.length,G=0;G<L;G++){var ea=l[G];if(y.call(A,ea,G,l))return{i:G,v:ea}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.findIndex",function(l){return l?l:function(y,A){return $jscomp.findInternal(this,y,A).i}},"es6","es3");$jscomp.owns=function(l,y){return Object.prototype.hasOwnProperty.call(l,y)};$jscomp.polyfill("Object.entries",function(l){return l?l:function(y){var A=[],L;for(L in y)$jscomp.owns(y,L)&&A.push([L,y[L]]);return A}},"es8","es3");
$jscomp.polyfill("Object.values",function(l){return l?l:function(y){var A=[],L;for(L in y)$jscomp.owns(y,L)&&A.push(y[L]);return A}},"es8","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var y=function(ea,B){this.$jscomp$symbol$id_=ea;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:B})};y.prototype.toString=function(){return this.$jscomp$symbol$id_};var A="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",L=0,G=function(ea){if(this instanceof G)throw new TypeError("Symbol is not a constructor");return new y(A+(ea||"")+"_"+L++,ea)};return G},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var y="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),A=0;A<y.length;A++){var L=$jscomp.global[y[A]];"function"===typeof L&&"function"!=typeof L.prototype[l]&&$jscomp.defineProperty(L.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.iteratorFromArray=function(l,y){l instanceof String&&(l+="");var A=0,L=!1,G={next:function(){if(!L&&A<l.length){var ea=A++;return{value:y(ea,l[ea]),done:!1}}L=!0;return{done:!0,value:void 0}}};G[Symbol.iterator]=function(){return G};return G};
$jscomp.polyfill("Array.prototype.entries",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(y,A){return[y,A]})}},"es6","es3");$jscomp.polyfill("Number.isFinite",function(l){return l?l:function(y){return"number"!==typeof y?!1:!isNaN(y)&&Infinity!==y&&-Infinity!==y}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(l){return l?l:function(y){return Number.isFinite(y)?y===Math.floor(y):!1}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(l){return l?l:function(y,A,L){var G=this.length||0;0>A&&(A=Math.max(0,G+A));if(null==L||L>G)L=G;L=Number(L);0>L&&(L=Math.max(0,G+L));for(A=Number(A||0);A<L;A++)this[A]=y;return this}},"es6","es3");$jscomp.typedArrayFill=function(l){return l?l:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(){var l,y,A;function L(e){switch(e){case 0:return r.teal;case 1:return r.lgreen;case 2:return r.orange;case 3:return r.yellow;case 4:return r.lavender;case 5:return r.pink;case 6:return r.vlgrey;case 7:return r.lgrey;case 8:return r.guiwhite;case 9:return r.black;case 10:return r.blue;case 11:return r.green;case 12:return r.red;case 13:return r.gold;case 14:return r.purple;case 15:return r.magenta;case 16:return r.grey;case 17:return r.dgrey;case 18:return r.white;case 19:return r.guiblack;
default:return"#FF0000"}}function G(e){var g=Q.graphical.neon?r.white:r.black;return Q.graphical.darkBorders?g:Ga(e,g,r.border)}function ea(e,g){switch(e){case "bas1":return r.blue;case "bas2":return r.green;case "bas3":return r.red;case "bas4":return r.pink;default:return r.white}}function B(e,g){Q.graphical.neon?(e.fillStyle=G(g),e.strokeStyle=g):(e.fillStyle=g,e.strokeStyle=G(g))}function N(e,g){g=void 0===g?ra[e].color:g;var b=ra[e];return{time:0,index:e,x:b.x,y:b.y,vx:0,vy:0,size:b.size,realSize:b.realSize,
color:g,render:{status:{getFade:function(){return 1},getColor:function(){return"#FFFFFF"},getBlend:function(){return 0},health:{get:function(){return 1}},shield:{get:function(){return 1}}}},facing:b.facing,shape:b.shape,name:b.name,score:0,tiggle:0,layer:b.layer,guns:{length:b.guns.length,getPositions:function(){var f=[];b.guns.forEach(function(){return f.push(0)});return f},update:function(){}},turrets:b.turrets.map(function(f){var d=N(f.index);d.realSize=d.realSize/d.size*b.size*f.sizeFactor;d.size=
b.size*f.sizeFactor;d.angle=f.angle;d.offset=f.offset;d.direction=f.direction;d.facing=f.direction+f.angle;return d})}}function U(e,g,b,f){f=void 0===f?!1:f;var d=Ja();b+=Q.graphical.borderChunk;return f?(d*=2,e>-a.screenWidth/d-b&&e<a.screenWidth/d+b&&g>-a.screenHeight/d-b&&g<a.screenHeight/d+b):e>-b&&e<a.screenWidth/d+b&&g>-b&&g<a.screenHeight/d+b}function V(e,g,b){Date.now();var f=e;return{set:function(d){e!==d&&(e=d,Date.now())},get:function(){return f=T.lerp(f,e,.05)}}}function ka(e){e=void 0===
e?!1:e;a.started=!0;T.submitToLocalStorage("optScreenshotMode");Q.graphical.screenshotMode=document.getElementById("optScreenshotMode").checked;T.submitToLocalStorage("optFancy");Q.graphical.pointy=!document.getElementById("optNoPointy").checked;T.submitToLocalStorage("optNoPointy");Q.graphical.fancyAnimations=!document.getElementById("optFancy").checked;T.submitToLocalStorage("optPredictive");Q.lag.unresponsive=document.getElementById("optPredictive").checked;T.submitToLocalStorage("optBorders");
switch(document.getElementById("optBorders").value){case "normal":Q.graphical.darkBorders=Q.graphical.neon=!1;break;case "dark":Q.graphical.darkBorders=!0;Q.graphical.neon=!1;break;case "glass":Q.graphical.darkBorders=!1;Q.graphical.neon=!0;break;case "neon":Q.graphical.darkBorders=Q.graphical.neon=!0}T.submitToLocalStorage("optColors");var g=document.getElementById("optColors").value;r=Va[""===g?"normal":g];g=document.getElementById("playerNameInput");var b=document.getElementById("playerKeyInput");
T.submitToLocalStorage("playerNameInput");T.submitToLocalStorage("playerKeyInput");a.playerName=I.name=g.value;a.playerKey=b.value.replace(/(<([^>]+)>)/ig,"").substring(0,64);a.screenWidth=window.innerWidth;a.screenHeight=window.innerHeight;e&&(document.getElementById("startMenuWrapper").style.top="-60px",document.getElementById("startMenuWrapper").style.opacity=0,setTimeout(function(){document.getElementById("startMenuWrapper").style.display="none"},1E3),a.inGame=!0,a.animations.menuFade=0);a.socket||
(T.pullJSON((a.secure?window.location.protocol+"//":"http://")+a.server+"/mockups.json").then(function(f){ra=f}),a.socket=Wa(3E3));window.canvas.socket=a.socket;setInterval(function(){return Xa.iterate(a.socket.cmd.getMotion())},1E3/30);document.getElementById("gameCanvas").focus();window.onbeforeunload=function(){return!0}}function pa(e,g){m.fillStyle=e;m.globalAlpha=g;m.fillRect(0,0,a.screenWidth,a.screenHeight);m.globalAlpha=1}function ia(e,g,b,f,d){switch(void 0===d?!1:d){case !0:m.strokeRect(e,
g,b,f);break;case !1:m.fillRect(e,g,b,f)}}function ua(e,g,b,f){f=void 0===f?!1:f;m.beginPath();m.arc(e,g,b,0,2*Math.PI,!1);f?m.stroke():m.fill()}function Fa(e,g,b,f){m.beginPath();m.lineTo(Math.round(e)+.5,Math.round(g)+.5);m.lineTo(Math.round(b)+.5,Math.round(f)+.5);m.closePath();m.stroke()}function ba(e,g,b,f,d){m.beginPath();m.lineTo(e,b);m.lineTo(g,b);m.lineWidth=f;m.strokeStyle=d;m.closePath();m.stroke()}function Ya(){a.scaleGuiRatio=Math.max(a.screenWidth,16*a.screenHeight/9)/(1280>=a.screenWidth?
1280:1920<=a.screenWidth?1920:a.screenWidth);a.animLoopHandle=window.requestAnimFrame(Ya);I.renderv+=(I.view-I.renderv)/30;var e=Q.graphical.screenshotMode?2:Ja();m.lineCap="round";m.lineJoin="round";m.filter="none";if(a.started)a.gameStart&&!a.disconnected&&(a.time=oa(),1E3<a.time-Za&&(a.socket.ping(a.time),Za=a.time,l=Ka,$a=Ka=0)),a.gameStart?rb(e,a.inGame):a.disconnected||sb(),a.died&&tb(),a.disconnected&&ub();else switch(a.state){case 2:case 0:pa(r.guiblack),a.animations.logo=T.lerp(a.animations.logo,
1,.1),a.animations.enterToStartActivated&&(a.animations.enterToStart=T.lerp(a.animations.enterToStart,1,.1)),pa(r.black,a.animations.logo),m.fillStyle="#ffffff",m.textAlign="center",m.globalAlpha=a.animations.logo,2==a.state&&(m.font="Bold "+30*a.animations.logo+"px Ubuntu",m.fillText("ERROR: Old version! Your version: "+a.version+", Server version: "+a.serverVersion,a.screenWidth/2,a.screenHeight/2-100),m.font="Bold "+15*a.animations.logo+"px Ubuntu",m.fillText("Please do CTRL + F5 to reset your browser cache",
a.screenWidth/2,a.screenHeight/2-140)),m.font="Bold "+90*a.animations.logo+"px Ubuntu",m.fillText("OpenArras",a.screenWidth/2,a.screenHeight/2),m.font="Bold "+20*a.animations.logo+"px Ubuntu",m.fillText("An opensource arras server everyone can work on, and have fun!",a.screenWidth/2,a.screenHeight/2+50*a.animations.logo),m.fillText("Made by Winquacks and the creativity from all of you!",a.screenWidth/2,a.screenHeight/2+90*a.animations.logo),m.font="Bold 20px Ubuntu",a.animations.enterToStartActivated&&
(m.globalAlpha=a.animations.enterToStart,m.fillText("(Press enter to continue)",a.screenWidth/2,a.screenHeight/2+120*a.animations.logo),m.globalAlpha/=2,m.fillText("(Press P to never show this screen again)",a.screenWidth/2,a.screenHeight/2+150)),m.globalAlpha=1}1==a.state&&(a.animations.menuFadeBlack=T.lerp(a.animations.menuFadeBlack,a.animations.menuFade,.1),pa(r.guiblack,.25*a.animations.menuFadeBlack),a.animations.menu=T.lerp(a.animations.menu,0,.1),pa(r.guiwhite,a.animations.menu))}var a={started:!1,
inGame:!1,state:0,version:"v0.12",KEY_ESC:27,KEY_ENTER:13,KEY_CHAT:13,KEY_FIREFOOD:119,KEY_SPLIT:32,KEY_LEFT:65,KEY_UP:87,KEY_RIGHT:68,KEY_DOWN:83,KEY_LEFT_ARROW:37,KEY_UP_ARROW:38,KEY_RIGHT_ARROW:39,KEY_DOWN_ARROW:40,KEY_AUTO_SPIN:67,KEY_AUTO_FIRE:69,KEY_OVER_RIDE:82,KEY_UPGRADE_ATK:49,KEY_UPGRADE_HTL:50,KEY_UPGRADE_SPD:51,KEY_UPGRADE_STR:52,KEY_UPGRADE_PEN:53,KEY_UPGRADE_DAM:54,KEY_UPGRADE_RLD:55,KEY_UPGRADE_MOB:56,KEY_UPGRADE_RGN:57,KEY_UPGRADE_SHI:48,KEY_UPGRADE_MAX:77,KEY_MOUSE_0:32,KEY_MOUSE_1:86,
KEY_MOUSE_2:16,KEY_CHOOSE_1:89,KEY_CHOOSE_2:72,KEY_CHOOSE_3:85,KEY_CHOOSE_4:74,KEY_CHOOSE_5:73,KEY_CHOOSE_6:75,KEY_CHOOSE_7:79,KEY_CHOOSE_8:76,KEY_LEVEL_UP:78,KEY_FUCK_YOU:191,screenWidth:window.innerWidth,screenHeight:window.innerHeight,gameWidth:0,gameHeight:0,xoffset:-0,yoffset:-0,gameStart:!1,disconnected:!1,died:!1,kicked:!1,continuity:!1,startPingTime:0,toggleMassState:0,backgroundColor:"#f2fbff",lineColor:"#000000",animations:{logo:0,enterToStart:0,enterToStartActivated:!1,menu:1,scoreBar:1,
menuFade:1,menuFadeBlack:1},server:window.top.location.host,secure:!0},T=function(e){e=void 0===e?{}:e;e.restoreMenu=function(){document.getElementById("startMenuWrapper").style.opacity=1;document.getElementById("startMenuWrapper").style.top="50px";document.getElementById("startMenuWrapper").style.display="block"};e.lerp=function(g,b,f){return g*(1-f)+b*f};e.submitToLocalStorage=function(g){localStorage.setItem(g+"Value",document.getElementById(g).value);localStorage.setItem(g+"Checked",document.getElementById(g).checked);
return!1};e.retrieveFromLocalStorage=function(g){document.getElementById(g).value=localStorage.getItem(g+"Value");document.getElementById(g).checked="true"===localStorage.getItem(g+"Checked");return!1};e.handleLargeNumber=function(g,b){return(void 0===b?0:b)&&0==g?"":g<Math.pow(10,3)?""+g.toFixed(0):g<Math.pow(10,6)?(g/Math.pow(10,3)).toFixed(2)+"k":g<Math.pow(10,9)?(g/Math.pow(10,6)).toFixed(2)+"m":g<Math.pow(10,12)?(g/Math.pow(10,9)).toFixed(2)+"b":g<Math.pow(10,15)?(g/Math.pow(10,12)).toFixed(2)+
"t":(g/Math.pow(10,15)).toFixed(2)+"q"};e.timeForHumans=function(g){function b(p,k){p&&(c=c+(""===c?"":", ")+p+" "+k+(1<p?"s":""))}var f=g%60;g=Math.floor(g/60);var d=g%60;g=Math.floor(g/60);var h=g%24;g=Math.floor(g/24);var c="";b(g,"day");b(h,"hour");b(d,"minute");b(f,"second");""===c&&(c="less than a second");return c};e.addArticle=function(g){return/[aeiouAEIOU]/.test(g[0])?"an "+g:"a "+g};e.formatLargeNumber=function(g){return g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};e.pullJSON=function(g){var b=
new XMLHttpRequest;console.log("Loading JSON from "+g);b.responseType="json";return new Promise(function(f,d){b.open("GET",g);b.onload=function(){f(b.response);console.log("JSON load complete.")};b.onerror=function(){d(b.statusText);console.log("JSON load failed.");console.log(b.statusText)};b.send()})};return e}(),Q={graphical:{screenshotMode:!1,borderChunk:6,barChunk:5,mininumBorderChunk:3,deathBlurAmount:3,darkBorders:!1,fancyAnimations:!0,colors:"normal",pointy:!0,fontSizeBoost:1,neon:!1,shadowColor:"#0000000F"},
gui:{expectedMaxSkillLevel:9},lag:{unresponsive:!1,memory:60}},Va={normal:{teal:"#7ADBBC",lgreen:"#B9E87E",orange:"#E7896D",yellow:"#FDF380",lavender:"#B58EFD",pink:"#EF99C3",vlgrey:"#E8EBF7",lgrey:"#AA9F9E",guiwhite:"#FFFFFF",black:"#484848",blue:"#3CA4CB",green:"#8ABC3F",red:"#E03E41",gold:"#EFC74B",purple:"#8D6ADF",magenta:"#CC669C",grey:"#A7A7AF",dgrey:"#726F6F",white:"#DBDBDB",guiblack:"#000000",paletteSize:10,border:.65},classic:{teal:"#8EFFFB",lgreen:"#85E37D",orange:"#FC7676",yellow:"#FFEB8E",
lavender:"#B58EFF",pink:"#F177DD",vlgrey:"#CDCDCD",lgrey:"#999999",guiwhite:"#FFFFFF",black:"#525252",blue:"#00B0E1",green:"#00E06C",red:"#F04F54",gold:"#FFE46B",purple:"#768CFC",magenta:"#BE7FF5",grey:"#999999",dgrey:"#545454",white:"#C0C0C0",guiblack:"#000000",paletteSize:10,border:.5},dark:{teal:"#8975B7",lgreen:"#1BA01F",orange:"#C46748",yellow:"#B2B224",lavender:"#7D56C5",pink:"#B24FAE",vlgrey:"#1E1E1E",lgrey:"#3C3A3A",guiwhite:"#000000",black:"#E5E5E5",blue:"#379FC6",green:"#30B53B",red:"#FF6C6E",
gold:"#FFC665",purple:"#9673E8",magenta:"#C8679B",grey:"#635F5F",dgrey:"#73747A",white:"#11110F",guiblack:"#FFFFFF",paletteSize:10,border:.15},natural:{teal:"#76C1BB",lgreen:"#AAD35D",orange:"#E09545",yellow:"#FFD993",lavender:"#939FFF",pink:"#D87FB2",vlgrey:"#C4B6B6",lgrey:"#7F7F7F",guiwhite:"#FFFFFF",black:"#373834",blue:"#4F93B5",green:"#00B659",red:"#E14F65",gold:"#E5BF42",purple:"#8053A0",magenta:"#B67CAA",grey:"#998F8F",dgrey:"#494954",white:"#A5B2A5",guiblack:"#000000",paletteSize:10,border:.2},
forest:{teal:"#884AA5",lgreen:"#8C9B3E",orange:"#D16A80",yellow:"#97596D",lavender:"#499855",pink:"#60294F",vlgrey:"#DDC6B8",lgrey:"#7E949E",guiwhite:"#FFFFE8",black:"#665750",blue:"#807BB6",green:"#A1BE55",red:"#E5B05B",gold:"#FF4747",purple:"#BAC674",magenta:"#BA78D1",grey:"#998866",dgrey:"#529758",white:"#7DA060",guiblack:"#000000",paletteSize:10,border:.7},midnight:{teal:"#2B9098",lgreen:"#4BAA5D",orange:"#345678",yellow:"#CDC684",lavender:"#89778E",pink:"#A85C90",vlgrey:"#CCCCCC",lgrey:"#A7B2B7",
guiwhite:"#BAC6FF",black:"#091F28",blue:"#123455",green:"#098765",red:"#000013",gold:"#566381",purple:"#743784",magenta:"#B29098",grey:"#555555",dgrey:"#649EB7",white:"#444444",guiblack:"#000000",paletteSize:10,border:.6},pastel:{teal:"#89BFBA",lgreen:"#B5D17D",orange:"#E5E0E0",yellow:"#B5BBE5",lavender:"#939FFF",pink:"#646DE5",vlgrey:"#B2B2B2",lgrey:"#7F7F7F",guiwhite:"#FFFFFF",black:"#383835",blue:"#AEAEFF",green:"#AEFFAE",red:"#FFAEAE",gold:"#FFFFFF",purple:"#C3C3D8",magenta:"#FFB5FF",grey:"#CCCCCC",
dgrey:"#A0A0B2",white:"#F2F2F2",guiblack:"#000000",paletteSize:10,border:.35},space:{teal:"#4788F3",lgreen:"#AF1010",orange:"#FF0000",yellow:"#82F850",lavender:"#FFFFFF",pink:"#57006C",vlgrey:"#FFFFFF",lgrey:"#272727",guiwhite:"#000000",black:"#7F7F7F",blue:"#0E1B92",green:"#0AEB80",red:"#C2B90A",gold:"#3E7E8C",purple:"#285911",magenta:"#A9707E",grey:"#6F6A68",dgrey:"#2D0738",white:"#000000",guiblack:"#FFFFFF",paletteSize:10,border:.25},nebula:{teal:"#38B06E",lgreen:"#22882E",orange:"#D28E7F",yellow:"#D5D879",
lavender:"#E084EB",pink:"#DF3E3E",vlgrey:"#F0F2CC",lgrey:"#7D7D7D",guiwhite:"#C2C5EF",black:"#161616",blue:"#9274E6",green:"#89F470",red:"#E08E5D",gold:"#ECDC58",purple:"#58CBEC",magenta:"#EA58EC",grey:"#7E5713",dgrey:"#303030",white:"#555555",guiblack:"#EAEAEA",paletteSize:10,border:.5},bleach:{teal:"#00FFFF",lgreen:"#00FF00",orange:"#FF3200",yellow:"#FFEC00",lavender:"#FF24A7",pink:"#FF3CBD",vlgrey:"#FFF186",lgrey:"#918181",guiwhite:"#F1F1F1",black:"#5F5F5F",blue:"#0025FF",green:"#00FF00",red:"#FF0000",
gold:"#FFFA23",purple:"#3100FF",magenta:"#D4D3D3",grey:"#838383",dgrey:"#4C4C4C",white:"#FFFEFE",guiblack:"#080808",paletteSize:10,border:.4},ocean:{teal:"#76EEC6",lgreen:"#41AA78",orange:"#FF7F50",yellow:"#FFD250",lavender:"#DC3388",pink:"#FA8072",vlgrey:"#8B8886",lgrey:"#BFC1C2",guiwhite:"#FFFFFF",black:"#12466B",blue:"#4200AE",green:"#0D6338",red:"#DC4333",gold:"#FEA904",purple:"#7B4BAB",magenta:"#5C246E",grey:"#656884",dgrey:"#D4D7D9",white:"#3283BC",guiblack:"#000000",paletteSize:10,border:.3},
badlands:{teal:"#F9CB9C",lgreen:"#F1C232",orange:"#38761D",yellow:"#E69138",lavender:"#B7B7B7",pink:"#78866B",vlgrey:"#6AA84F",lgrey:"#B7B7B7",guiwhite:"#A4C2F4",black:"#000000",blue:"#0C5A9E",green:"#6E8922",red:"#5B0000",gold:"#783F04",purple:"#591C77",magenta:"#20124D",grey:"#2F1C16",dgrey:"#999999",white:"#543517",guiblack:"#CFE2F3",paletteSize:10,border:.4}},r=Va.normal,Ga=function(){return function(e,g,b){b=void 0===b?.5:b;if(1===b)return g;if(0===b)return e;for(var f="#",d=1;6>=d;d+=2){var h=
parseInt(g.substr(d,2),16),c=parseInt(e.substr(d,2),16);for(h=Math.floor(c+(h-c)*b).toString(16);2>h.length;)h="0"+h;f+=h}return f}}(),ra=[];a.clickables=function(){var e=function(){function g(){var b=0,f=0,d=0,h=0,c=!1;return{set:function(p,k,D,q){b=p;f=k;d=D;h=q;c=!0},check:function(p){var k=Math.round(p.x-b);p=Math.round(p.y-f);return c&&0<=k&&0<=p&&k<=d&&p<=h},hide:function(){c=!1}}}return function(b){for(var f=[],d=0;d<b;d++)f.push(g());return{place:function(h){var c=$jscomp.getRestArguments.apply(1,
arguments);if(h>=f.length)throw console.log(h),console.log(f),Error("Trying to reference a clickable outside a region!");f[h].set.apply(f[h],$jscomp.arrayFromIterable(c))},hide:function(){f.forEach(function(h){return h.hide()})},check:function(h){return f.findIndex(function(c){return c.check(h)})}}}}();return{stat:e(10),upgrade:e(8),hover:e(1),skipUpgrades:e(1)}}();a.statHover=!1;a.upgradeHover=!1;var I={reset:function(){I={reset:I.reset,vx:0,vy:0,x:a.screenWidth/2,y:a.screenHeight/2,lastvx:0,lastvy:0,
renderx:a.screenWidth/2,rendery:a.screenHeight/2,lastx:a.screenWidth/2,lasty:a.screenHeight/2,target:{x:a.screenWidth/2,y:a.screenHeight/2},name:"",lastUpdate:0,time:0}}};I.reset();var sa=function(e){this.dataLength=e;this.elements={}};sa.prototype.update=function(e,g){g=void 0===g?0:g;for(var b=e[g++],f=0;f<b;f++)delete this.elements[e[g++]];b=e[g++];for(f=0;f<b;f++){var d=e[g++],h=e.slice(g,g+this.dataLength);g+=this.dataLength;this.elements[d]=h}return g};sa.prototype.entries=function(){return Object.entries(this.elements).map(function(e){var g=
$jscomp.makeIterator(e);e=g.next().value;g=g.next().value;return{id:+e,data:g}})};var La=function(e){this.speed=void 0===e?250:e;this.map={};this.lastUpdate=Date.now()};La.prototype.update=function(e){this.lastUpdate=Date.now();for(var g=$jscomp.makeIterator(Object.entries(this.map)),b=g.next();!b.done;b=g.next()){var f=$jscomp.makeIterator(b.value);b=f.next().value;f=f.next().value;f.now?(f.old=f.now,f.now=null):delete this.map[b]}e=$jscomp.makeIterator(e);for(g=e.next();!g.done;g=e.next())g=g.value,
this.map[g.id]?this.map[g.id].now=g:this.map[g.id]={old:null,now:g}};La.prototype.get=function(){var e=Math.min(1,(Date.now()-this.lastUpdate)/this.speed),g=1-e;return Object.values(this.map).map(function(b){var f=b.old;return(b=b.now)?f?{type:b.type,id:b.id,x:e*b.x+g*f.x,y:e*b.y+g*f.y,color:b.color,size:e*b.size+g*f.size,alpha:1}:{type:b.type,id:b.id,x:b.x,y:b.y,color:b.color,size:b.size,alpha:e}:{type:f.type,id:f.id,x:f.x,y:f.y,color:f.color,size:f.size,alpha:g}})};var Ma=function(e){this.score=
V(0,10);this.update(e)};Ma.prototype.update=function(e){this.name=e.name;this.bar=e.bar;this.color=e.color;this.index=e.index;this.score.set(e.score);this.old=!1};Ma.prototype.publish=function(){var e=ra[this.index];return{image:N(this.index,this.color),position:e.position,barColor:L(this.bar),label:"2tkr"==a.gameMode?this.name:0<this.name.length?this.name+" - "+e.name:e.name,score:this.score.get()}};var Na=function(){this.entries={}};Na.prototype.get=function(){for(var e=[],g=1,b=$jscomp.makeIterator(Object.values(this.entries)),
f=b.next();!f.done;f=b.next())f=f.value.publish(),e.push(f),f.score>g&&(g=f.score);e.sort(function(d,h){return h.score-d.score});return{data:e,max:g}};Na.prototype.update=function(e){e.sort(function(f,d){return d.score-f.score});for(var g=$jscomp.makeIterator(Object.values(this.entries)),b=g.next();!b.done;b=g.next())b.value.old=!0;e=$jscomp.makeIterator(e);for(g=e.next();!g.done;g=e.next())g=g.value,this.entries[g.id]?this.entries[g.id].update(g):this.entries[g.id]=new Ma(g);e=$jscomp.makeIterator(Object.entries(this.entries));
for(g=e.next();!g.done;g=e.next())g=$jscomp.makeIterator(g.value),b=g.next().value,g.next().value.old&&delete this.entries[b]};var xa=[],ab=new sa(5),bb=new sa(3),cb=new sa(5),Ia=0,Ha=a.messages=[];a.chatmessages=[];var db=new Na,eb=new La(200),Za=A=l=y=0,Ka=0,$a=0,Oa={x:I.x,y:I.y},Ba=[["norm"]],M={getStatNames:function(e){switch(e){case 1:return"Body Damage;Max Health;Bullet Speed;Bullet Health;Bullet Penetration;Bullet Damage;Engine Acceleration;Movement Speed;Shield Regeneration;Shield Capacity".split(";");
case 2:return"Body Damage;Max Health;Drone Speed;Drone Health;Drone Penetration;Drone Damage;Respawn Rate;Movement Speed;Shield Regeneration;Shield Capacity".split(";");case 3:return"Body Damage;Max Health;Drone Speed;Drone Health;Drone Penetration;Drone Damage;Max Drone Count;Movement Speed;Shield Regeneration;Shield Capacity".split(";");case 4:return"Body Damage;Max Health;Swarm Speed;Swarm Health;Swarm Penetration;Swarm Damage;Reload;Movement Speed;Shield Regeneration;Shield Capacity".split(";");
case 5:return"Body Damage;Max Health;Placement Speed;Trap Health;Trap Penetration;Trap Damage;Reload;Movement Speed;Shield Regeneration;Shield Capacity".split(";");case 6:return"Body Damage;Max Health;Weapon Speed;Weapon Health;Weapon Penetration;Weapon Damage;Reload;Movement Speed;Shield Regeneration;Shield Capacity".split(";");default:return"Body Damage;Max Health;Bullet Speed;Bullet Health;Bullet Penetration;Bullet Damage;Reload;Movement Speed;Shield Regeneration;Shield Capacity".split(";")}},
skills:[{amount:0,color:"purple",cap:1,softcap:1},{amount:0,color:"pink",cap:1,softcap:1},{amount:0,color:"blue",cap:1,softcap:1},{amount:0,color:"lgreen",cap:1,softcap:1},{amount:0,color:"red",cap:1,softcap:1},{amount:0,color:"yellow",cap:1,softcap:1},{amount:0,color:"green",cap:1,softcap:1},{amount:0,color:"teal",cap:1,softcap:1},{amount:0,color:"gold",cap:1,softcap:1},{amount:0,color:"orange",cap:1,softcap:1}],points:0,upgrades:[],playerid:-1,__s:function(){var e=0,g=0,b=0,f=V(0,10);return{setScore:function(d){d?
(f.set(d),g>f.get()&&(g=b=0)):(f=V(0,10),b=0)},update:function(){e=Math.ceil(1.8*Math.pow(b+1,1.8)-2*b+1);f.get()-g>=e&&(g+=e,b+=1)},getProgress:function(){return e?Math.min(1,Math.max(0,(f.get()-g)/e)):0},getScore:function(){return f.get()},getLevel:function(){return b}}}(),type:0,fps:0,color:0,accel:0,topspeed:1};a.clearUpgrades=function(){M.upgrades=[]};var Ja=function(){return Math.max(a.screenWidth/I.renderv,a.screenHeight/I.renderv/9*16)};a.target=Oa;a.player=I;a.canUpgrade=!1;a.canSkill=!1;
a.message="";a.time=0;a.mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);window.onload=function(){T.retrieveFromLocalStorage("playerNameInput");T.retrieveFromLocalStorage("playerKeyInput");T.retrieveFromLocalStorage("optScreenshotMode");T.retrieveFromLocalStorage("optPredictive");T.retrieveFromLocalStorage("optFancy");T.retrieveFromLocalStorage("optColors");T.retrieveFromLocalStorage("optNoPointy");T.retrieveFromLocalStorage("optBorders");""===document.getElementById("optColors").value&&
(document.getElementById("optColors").value="normal");""===document.getElementById("optBorders").value&&(document.getElementById("optBorders").value="normal");document.getElementById("startButton").onclick=function(){ka(!0);window.canvas.socket.talk("s",a.playerName,0);a.state=3};document.onkeydown=function(e){(e.which||e.keyCode)==a.KEY_ENTER&&(0==a.state?(a.state=1,T.restoreMenu(),ka(!1)):a.disconnected&&(a.state=1,T.restoreMenu(),I.reset(),ka(!1),a.gameStart=!1,a.disconnected=!1,a.socket=Wa(3E3)))};
window.addEventListener("resize",function(){I.screenWidth=Pa.width=a.screenWidth=window.innerWidth;I.screenHeight=Pa.height=a.screenHeight=window.innerHeight})};sa=function(e){this.directionLock=!1;this.target=a.target;this.reenviar=!0;this.socket=a.socket;this.directions=[];this.cv=document.getElementById("gameCanvas");this.cv.width=a.screenWidth;this.cv.height=a.screenHeight;this.cv.addEventListener("mousemove",this.gameInput,!1);this.cv.addEventListener("keydown",this.keyboardDown,!1);this.cv.addEventListener("keyup",
this.keyboardUp,!1);this.cv.addEventListener("mousedown",this.mouseDown,!1);this.cv.addEventListener("mouseup",this.mouseUp,!1);this.cv.parent=this;a.canvas=this};sa.prototype.keyboardDown=function(e){switch(e.keyCode){case a.KEY_UPGRADE_MAX:this.statMaxing=!0;break;case 13:a.died&&(a.state=1,T.restoreMenu(),ka(!1),a.died=!1);break;case a.KEY_UP_ARROW:case a.KEY_UP:this.parent.socket.cmd.set(0,!0);break;case a.KEY_DOWN_ARROW:case a.KEY_DOWN:this.parent.socket.cmd.set(1,!0);break;case a.KEY_LEFT_ARROW:case a.KEY_LEFT:this.parent.socket.cmd.set(2,
!0);break;case a.KEY_RIGHT_ARROW:case a.KEY_RIGHT:this.parent.socket.cmd.set(3,!0);break;case a.KEY_MOUSE_0:this.parent.socket.cmd.set(4,!0);break;case a.KEY_MOUSE_1:this.parent.socket.cmd.set(5,!0);break;case a.KEY_MOUSE_2:this.parent.socket.cmd.set(6,!0);break;case a.KEY_LEVEL_UP:this.parent.socket.talk("L");break;case a.KEY_FUCK_YOU:this.parent.socket.talk("0")}if(!e.repeat){switch(e.keyCode){case a.KEY_AUTO_SPIN:this.parent.socket.talk("t",0);break;case a.KEY_AUTO_FIRE:this.parent.socket.talk("t",
1);break;case a.KEY_OVER_RIDE:this.parent.socket.talk("t",2)}if(a.canSkill){var g=this.statMaxing?15:1;do switch(e.keyCode){case a.KEY_UPGRADE_ATK:this.parent.socket.talk("x",0);break;case a.KEY_UPGRADE_HTL:this.parent.socket.talk("x",1);break;case a.KEY_UPGRADE_SPD:this.parent.socket.talk("x",2);break;case a.KEY_UPGRADE_STR:this.parent.socket.talk("x",3);break;case a.KEY_UPGRADE_PEN:this.parent.socket.talk("x",4);break;case a.KEY_UPGRADE_DAM:this.parent.socket.talk("x",5);break;case a.KEY_UPGRADE_RLD:this.parent.socket.talk("x",
6);break;case a.KEY_UPGRADE_MOB:this.parent.socket.talk("x",7);break;case a.KEY_UPGRADE_RGN:this.parent.socket.talk("x",8);break;case a.KEY_UPGRADE_SHI:this.parent.socket.talk("x",9)}while(--g)}if(a.canUpgrade)switch(e.keyCode){case a.KEY_CHOOSE_1:this.parent.socket.talk("U",0);break;case a.KEY_CHOOSE_2:this.parent.socket.talk("U",1);break;case a.KEY_CHOOSE_3:this.parent.socket.talk("U",2);break;case a.KEY_CHOOSE_4:this.parent.socket.talk("U",3);break;case a.KEY_CHOOSE_5:this.parent.socket.talk("U",
4);break;case a.KEY_CHOOSE_6:this.parent.socket.talk("U",5);break;case a.KEY_CHOOSE_7:this.parent.socket.talk("U",6);break;case a.KEY_CHOOSE_8:this.parent.socket.talk("U",7)}}};sa.prototype.keyboardUp=function(e){switch(e.keyCode){case a.KEY_UPGRADE_MAX:this.statMaxing=!1;break;case a.KEY_UP_ARROW:case a.KEY_UP:this.parent.socket.cmd.set(0,!1);break;case a.KEY_DOWN_ARROW:case a.KEY_DOWN:this.parent.socket.cmd.set(1,!1);break;case a.KEY_LEFT_ARROW:case a.KEY_LEFT:this.parent.socket.cmd.set(2,!1);break;
case a.KEY_RIGHT_ARROW:case a.KEY_RIGHT:this.parent.socket.cmd.set(3,!1);break;case a.KEY_MOUSE_0:this.parent.socket.cmd.set(4,!1);break;case a.KEY_MOUSE_1:this.parent.socket.cmd.set(5,!1);break;case a.KEY_MOUSE_2:this.parent.socket.cmd.set(6,!1)}};sa.prototype.mouseDown=function(e){switch(e.button){case 0:e={x:e.clientX,y:e.clientY};var g=a.clickables.stat.check(e);-1!==g?this.parent.socket.talk("x",g):-1!==a.clickables.skipUpgrades.check(e)?a.clearUpgrades():(e=a.clickables.upgrade.check(e),-1!==
e?this.parent.socket.talk("U",e):this.parent.socket.cmd.set(4,!0));break;case 1:this.parent.socket.cmd.set(5,!0);break;case 2:this.parent.socket.cmd.set(6,!0)}};sa.prototype.mouseUp=function(e){switch(e.button){case 0:this.parent.socket.cmd.set(4,!1);break;case 1:this.parent.socket.cmd.set(5,!1);break;case 2:this.parent.socket.cmd.set(6,!1)}};sa.prototype.gameInput=function(e){this.parent.target.x=e.clientX-this.width/2;this.parent.target.y=e.clientY-this.height/2;a.target=this.parent.target;a.statHover=
0===a.clickables.hover.check({x:e.clientX,y:e.clientY})};window.canvas=new sa;var Pa=window.canvas.cv,m=Pa.getContext("2d"),fb=document.createElement("canvas").getContext("2d");fb.imageSmoothingEnabled=!1;document.getElementById("startMenuWrapper").style.opacity=0;document.getElementById("gameAreaWrapper").style.opacity=1;var va=[],Qa=0,gb=0,hb=function(){var e=[];return{get:function(){return e.length?e.reduce(function(g,b){return g+b})/e.length:0},add:function(g){e.push(g);e.length>Q.lag.memory&&
e.splice(0,1)}}}(),oa=function(){return Date.now()-Qa-gb},Xa=function(){var e=0,g=0,b=0,f=0;return{reset:function(){g=e=0},get:function(){return Q.lag.unresponsive?{x:0,y:0}:{x:e,y:g}},iterate:function(d){if(a.died||a.gameStart)return 0;var h=M.accel/M.topSpeed,c=Math.sqrt(d.x*d.x+d.y*d.y);b+=M.accel*d.x/c;f+=M.accel*d.y/c;d=Math.sqrt(b*b+f*f);0<d&&h&&(h=d/(h/0+1),b=h*b/d,f=h*f/d);e+=b;g+=f}}}(),Wa=function(){window.WebSocket=window.WebSocket||window.MozWebSocket;var e=function(b){b=void 0===b?{}:
b;var f=new Uint32Array(1),d=new Uint8Array(f.buffer),h=new Float32Array(f.buffer),c=new Uint16Array(1),p=new Uint8Array(c.buffer);(function(){var k=new Uint8Array(1),D=new Uint16Array(1),q=new Uint8Array(D.buffer),n=new Uint32Array(1),u=new Uint8Array(n.buffer),E=new Float32Array(1),J=new Uint8Array(E.buffer),x=function(C,t){var K="";switch(C){case "RawUint8":return k[0]=t,String.fromCharCode(k[0]);case "RawUint16":return D[0]=t,String.fromCharCode(q[0],q[1]);case "Uint8":return k[0]=t,"0"+String.fromCharCode(k[0]);
case "Uint16":return D[0]=t,"1"+String.fromCharCode(q[0],q[1]);case "Uint32":return n[0]=t,"2"+String.fromCharCode(u[0],u[1],u[2],u[3]);case "Sint8":return k[0]=-1-t,"3"+String.fromCharCode(k[0]);case "Sint16":return D[0]=-1-t,"4"+String.fromCharCode(q[0],q[1]);case "Sint32":return n[0]=-1-t,"5"+String.fromCharCode(u[0],u[1],u[2],u[3]);case "Float32":return E[0]=t,"6"+String.fromCharCode(J[0],J[1],J[2],J[3]);case "String8":return"7"+x("RawUint16",t.length)+t;case "String16":C=0;for(var H=t.length;C<
H;C++)K+=x("RawUint16",t.charCodeAt(C));return"8"+x("RawUint16",K.length)+K;default:throw Error("Unknown encoding type.");}},w=function(C){if("string"===typeof C){for(var t=0;t<C.length;t++)if(255<C.charCodeAt(t))return"String16";return"String8"}if("boolean"===typeof C)return"Uint8";if("number"!==typeof C)throw console.log(C),Error("Unencodable data type");if(C!==Math.floor(C))return"Float32";if(0>C){if(-256<=C)return"Sint8";if(-65535<=C)return"Sint16";if(-4294967295<=C)return"Sint32"}else{if(256>
C)return"Uint8";if(65535>C)return"Uint16";if(4294967295>C)return"Uint32"}return"Float32"};return function(C,t){t=void 0===t?!1:t;var K=C.shift();if("string"!==typeof K)throw Error("No identification code!");C.forEach(function(aa){return K+=x(w(aa),aa)});C=K.length;for(var H=new ArrayBuffer(C),F=new Uint8Array(H),O=0;O<C;O++)F[O]=K.charCodeAt(O);t&&(console.log("OUTPUT: "+F),console.log("RAW OUTPUT: "+K),console.log("SIZE: "+C));return H}})();(function(){new Uint8Array(1);var k=new Uint16Array(1),
D=new Uint8Array(k.buffer),q=new Uint32Array(1),n=new Uint8Array(q.buffer),u=new Float32Array(1),E=new Uint8Array(u.buffer),J=function(x,w,C){switch(w){case "Uint8":return x.charCodeAt(C++);case "Uint16":for(w=0;2>w;w++)D[w]=x.charCodeAt(C++);return k[0];case "Uint32":for(w=0;4>w;w++)n[w]=x.charCodeAt(C++);return q[0];case "Sint8":return-1-x.charCodeAt(C++);case "Sint16":for(w=0;2>w;w++)D[w]=x.charCodeAt(C++);return-1-k[0];case "Sint32":for(w=0;4>w;w++)n[w]=x.charCodeAt(C++);return-1-q[0];case "Float32":for(w=
0;4>w;w++)E[w]=x.charCodeAt(C++);return u[0];default:throw Error("Unknown decoding type.");}};return function(x){try{var w=new Uint8Array(x);x="";for(var C=0;C<w.length;C++)x+=String.fromCharCode(w[C]);w=1;for(var t=[x.charAt(0)];w<x.length;)switch(x[w++]){case "0":t.push(J(x,"Uint8",w));w++;break;case "1":t.push(J(x,"Uint16",w));w+=2;break;case "2":t.push(J(x,"Uint32",w));w+=4;break;case "3":t.push(J(x,"Sint8",w));w++;break;case "4":t.push(J(x,"Sint16",w));w+=2;break;case "5":t.push(J(x,"Sint32",
w));w+=4;break;case "6":t.push(J(x,"Float32",w));w+=4;break;case "7":var K=J(x,"Uint16",w);w+=2;t.push(x.slice(w,w+K));w+=K;break;case "8":var H=J(x,"Uint16",w);w+=2;var F=x.slice(w,w+H),O=new Uint16Array(H/2);for(C=0;C<H;C+=2)O[C/2]=J(F,"Uint16",C);t.push(String.fromCharCode.apply(null,O));w+=H;break;default:throw Error("Unknown decoding command. Decoding exited.");}return t}catch(aa){return console.log(aa),-1}}})();b.encode=function(k){for(var D=[],q=[],n=0,u=15,E=0,J=$jscomp.makeIterator(k),x=
J.next();!x.done;x=J.next()){x=x.value;var w=0;if(0===x||!1===x)w=0;else if(1===x||!0===x)w=1;else if("number"===typeof x)!Number.isInteger(x)||-4294967296>x||4294967296<=x?(w=8,n+=4):0<=x?256>x?(w=2,n++):65536>x?(w=4,n+=2):4294967296>x&&(w=6,n+=4):-256<=x?(w=3,n++):-65536<=x?(w=5,n+=2):-4294967296<=x&&(w=7,n+=4);else if("string"===typeof x){w=!1;for(var C=0;C<x.length;C++)if("\u00ff"<x.charAt(C))w=!0;else if("\x00"===x.charAt(C))throw console.error("Null containing string",x),Error("Null containing string");
!w&&1>=x.length?(w=9,n++):w?(w=11,n+=2*x.length+2):(w=10,n+=x.length+1)}else throw console.error("Unencodable data type",x),Error("Unencodable data type");D.push(w);if(w===u)E++;else{q.push(u);if(1<=E){for(;19<E;)q.push(14),q.push(15),E-=19;1===E?q.push(u):2===E?q.push(12):3===E?q.push(13):20>E&&(q.push(14),q.push(E-4))}E=0;u=w}}q.push(u);if(1<=E){for(;19<E;)q.push(14),q.push(15),E-=19;1===E?q.push(u):2===E?q.push(12):3===E?q.push(13):20>E&&(q.push(14),q.push(E-4))}q.push(15);1===q.length%2&&q.push(15);
n=new Uint8Array((q.length>>1)+n);for(u=0;u<q.length;u+=2)n[u>>1]=q[u]<<4|q[u+1];q=q.length>>1;for(u=0;u<D.length;u++)switch(E=k[u],D[u]){case 2:case 3:n[q++]=E;break;case 4:case 5:c[0]=E;n.set(p,q);q+=2;break;case 6:case 7:f[0]=E;n.set(d,q);q+=4;break;case 8:h[0]=E;n.set(d,q);q+=4;break;case 9:E=0===E.length?0:E.charCodeAt(0);n[q++]=E;break;case 10:for(J=0;J<E.length;J++)n[q++]=E.charCodeAt(J);n[q++]=0;break;case 11:for(J=0;J<E.length;J++)x=E.charCodeAt(J),n[q++]=x&255,n[q++]=x>>8;n[q++]=0;n[q++]=
0}return n};b.decode=function(k){k=new Uint8Array(k);if(15!==k[0]>>4)return null;for(var D=[],q=15,n=0,u=!0;;){if(n>=k.length)return null;var E=k[n];u?(E&=15,n++):E>>=4;u=!u;if(12===(E&12)){if(15===E){u&&n++;break}var J=E-10;if(14===E){if(n>=k.length)return null;E=k[n];u?(E&=15,n++):E>>=4;u=!u;J+=E}for(E=0;E<J;E++)D.push(q)}else D.push(E),q=E}q=[];D=$jscomp.makeIterator(D);for(u=D.next();!u.done;u=D.next())switch(u.value){case 0:q.push(0);break;case 1:q.push(1);break;case 2:q.push(k[n++]);break;case 3:q.push(k[n++]-
256);break;case 4:p[0]=k[n++];p[1]=k[n++];q.push(c[0]);break;case 5:p[0]=k[n++];p[1]=k[n++];q.push(c[0]-65536);break;case 6:d[0]=k[n++];d[1]=k[n++];d[2]=k[n++];d[3]=k[n++];q.push(f[0]);break;case 7:d[0]=k[n++];d[1]=k[n++];d[2]=k[n++];d[3]=k[n++];q.push(f[0]-4294967296);break;case 8:d[0]=k[n++];d[1]=k[n++];d[2]=k[n++];d[3]=k[n++];q.push(h[0]);break;case 9:u=k[n++];q.push(0===u?"":String.fromCharCode(u));break;case 10:for(u="";J=k[n++];)u+=String.fromCharCode(J);q.push(u);break;case 11:for(u="";J=k[n++]|
k[n++]<<8;)u+=String.fromCharCode(J);q.push(u)}return q};return b}(),g=function(){var b=function(){var f=0,d=[];return{next:function(){if(f>=d.length)throw console.log(d),Error("Trying to crawl past the end of the provided data!");return d[f++]},all:function(){return d.slice(f)},take:function(h){f+=h;if(f>d.length)throw console.error(d),Error("Trying to crawl past the end of the provided data!");},set:function(h){d=h;f=0}}}();return{begin:function(f){return b.set(f)},data:function(){var f=function(){function d(){var c=
"normal",p=oa();return{set:function(k){if(k!==c||"injured"===c)"dying"!==c&&(p=oa()),c=k},getFade:function(){return"dying"===c||"killed"===c?1-Math.min(1,(oa()-p)/300):1},getColor:function(){return"#FFFFFF"},getBlend:function(){var k="normal"===c||"dying"===c?0:1-Math.min(1,(oa()-p)/80);500<oa()-p&&"injured"===c&&(c="normal");return k}}}var h=function(){function c(p){p.isUpdated=!0;if(p.motion||p.position)p.motion-=.2*p.position,p.position+=p.motion,0>p.position&&(p.position=0,p.motion=-p.motion),
0<p.motion&&(p.motion*=.5)}return function(p){for(var k=[],D=0;D<p;D++)k.push({motion:0,position:0,isUpdated:!0});return{getPositions:function(){return k.map(function(q){return q.position})},update:function(){return k.forEach(c)},fire:function(q,n){k[q].isUpdated&&(k[q].motion+=Math.sqrt(n)/20);k[q].isUpdated=!1},length:k.length}}}();return function(c){c=void 0===c?{}:c;var p=null==c.facing,k=b.next();if(k&1)c.facing=b.next(),c.layer=b.next();else{c.interval=A;c.id=b.next();p=xa.findIndex(function(u){return u.id===
c.id});-1!==p&&(c=xa.splice(p,1)[0]);p=-1===p;p||(c.render.draws=!0,c.render.lastx=c.x,c.render.lasty=c.y,c.render.lastvx=c.vx,c.render.lastvy=c.vy,c.render.lastf=c.facing,c.render.lastRender=I.time);c.index=b.next();c.x=b.next();c.y=b.next();c.vx=b.next();c.vy=b.next();c.size=b.next();c.facing=b.next();c.vfacing=b.next();c.twiggle=b.next();c.layer=b.next();c.color=b.next();if(p)c.health=b.next()/255,c.shield=b.next()/255;else{var D=c.health,q=c.shield;c.health=b.next()/255;c.shield=b.next()/255;
c.health<D||c.shield<q?c.render.status.set("injured"):1!==c.render.status.getFade()&&c.render.status.set("normal")}c.drawsHealth=!!(k&2);c.alpha=b.next()/255;k&4&&(c.name=b.next(),c.score=b.next());c.nameplate=k&4;p&&(c.render={draws:!1,expandsWithDeath:c.drawsHealth,lastRender:I.time,x:c.x,y:c.y,lastx:c.x-1E3/30*Q.roomSpeed*A*c.vx,lasty:c.y-1E3/30*Q.roomSpeed*A*c.vy,lastvx:c.vx,lastvy:c.vy,lastf:c.facing,f:c.facing,h:c.health,s:c.shield,interval:A,slip:0,status:d(),health:V(c.health,.5,5),shield:V(c.shield,
.5,5)});c.render.health.set(c.health);c.render.shield.set(c.shield);p||c.oldIndex===c.index||(p=!0);c.oldIndex=c.index}k=b.next();if(p)c.guns=h(k);else if(k!==c.guns.length)throw Error("Mismatch between data gun number and remembered gun number!");for(D=0;D<k;D++){q=b.next();var n=b.next();q>I.lastUpdate-A&&c.guns.fire(D,n)}k=b.next();if(p)for(c.turrets=[],p=0;p<k;p++)c.turrets.push(f());else{if(c.turrets.length!==k)throw Error("Mismatch between data turret number and remembered turret number!");
for(p=0;p<c.turrets.length;p++)c.turrets[p]=f(c.turrets[p])}return c}}();return function(){for(var d=[],h=0,c=b.next();h<c;h++)d.push(f());for(h=0;h<xa.length;h++)c=xa[h],c.render.status.set(1===c.health?"dying":"killed"),0!==c.render.status.getFade()&&U(c.render.x-I.renderx,c.render.y-I.rendery,c.size,!0)?d.push(c):null!=c.render.textobjs&&c.render.textobjs.forEach(function(p){return p.remove()});xa=d;xa.sort(function(p,k){var D=p.layer-k.layer;D||(D=k.id-p.id);if(!D)throw Error("tha fuq is up now");
return D})}}(),gui:function(){var f=b.next(),d=f&256,h=f&128,c=f&64,p=f&32,k=f&16,D=f&8,q=f&4,n=f&2;f&1&&(M.fps=b.next());n&&(M.type=b.next(),M.color=b.next(),M.playerid=b.next());q&&M.__s.setScore(b.next());D&&(M.points=b.next());if(k)for(M.upgrades=[],f=0,k=b.next();f<k;f++)M.upgrades.push(b.next());if(p)for(p=9;0<=p;p--)M.skills[p].name=b.next(),M.skills[p].cap=b.next(),M.skills[p].softcap=b.next();c&&(c=parseInt(b.next(),36).toString(16),c="0000000000".substr(c.length)+c,M.skills[0].amount=parseInt(c.slice(0,
1),16),M.skills[1].amount=parseInt(c.slice(1,2),16),M.skills[2].amount=parseInt(c.slice(2,3),16),M.skills[3].amount=parseInt(c.slice(3,4),16),M.skills[4].amount=parseInt(c.slice(4,5),16),M.skills[5].amount=parseInt(c.slice(5,6),16),M.skills[6].amount=parseInt(c.slice(6,7),16),M.skills[7].amount=parseInt(c.slice(7,8),16),M.skills[8].amount=parseInt(c.slice(8,9),16),M.skills[9].amount=parseInt(c.slice(9,10),16));h&&(M.accel=b.next());d&&(M.topspeed=b.next())},broadcast:function(){var f=b.all(),d=ab.update(f);
d=bb.update(f,d);d=cb.update(f,d);b.take(d);f=[];d=$jscomp.makeIterator(ab.entries());for(var h=d.next();!h.done;h=d.next()){h=h.value;var c=h.data;f.push({id:h.id,type:c[0],x:c[1]*a.gameWidth/255,y:c[2]*a.gameHeight/255,color:c[3],size:c[4]})}d=$jscomp.makeIterator(bb.entries());for(h=d.next();!h.done;h=d.next())h=h.value,c=h.data,f.push({id:h.id,type:0,x:c[0]*a.gameWidth/255,y:c[1]*a.gameHeight/255,color:c[2],size:0});eb.update(f);f=[];d=$jscomp.makeIterator(cb.entries());for(h=d.next();!h.done;h=
d.next())h=h.value,c=h.data,f.push({id:h.id,score:c[0],index:c[1],name:c[2],color:c[3],bar:c[4]});db.update(f)}}}();return function(b){var f=new WebSocket((a.secure?"https:"==window.location.protocol?"wss://":"ws://":"ws://")+window.top.location.host+"/server");f.binaryType="arraybuffer";f.open=!1;f.cmd=function(){var d=!1,h=[!1,!1,!1,!1,!1,!1,!1,!1];return{set:function(c,p){h[c]!==p&&(h[c]=p,d=!0)},talk:function(){d=!1;for(var c=0,p=0;8>p;p++)h[p]&&(c+=Math.pow(2,p));p=Ja();f.talk("C",Math.round(window.canvas.target.x/
p),Math.round(window.canvas.target.y/p),c)},check:function(){return d},getMotion:function(){return{x:h[3]-h[2],y:h[1]-h[0]}}}}();f.talk=function(){var d=$jscomp.getRestArguments.apply(0,arguments);if(!f.open)return 1;f.send(e.encode(d))};f.onopen=function(){f.open=!0;a.message="That token is invalid, expired, or already in use on this server. Please try another one!";f.talk("k",a.playerKey);console.log("Token submitted to the server for validation.");f.ping=function(d){f.talk("p",d)};f.commandCycle=
setInterval(function(){f.cmd.check()&&f.cmd.talk()})};f.onmessage=function(d){d=e.decode(d.data);if(-1===d)throw Error("Malformed packet.");switch(d.splice(0,1)[0]){case "w":d[0]&&(console.log("The server has welcomed us to the game room. Sending spawn request."),a.message="");break;case "R":a.gameWidth=d[0];a.gameHeight=d[1];Ba=JSON.parse(d[2]);gb=JSON.parse(d[3]);Q.roomSpeed=d[4];console.log("Room data recieved. Commencing syncing process.");f.talk("S",oa());break;case "c":break;case "S":var h=
d[0];d=d[1];h=(oa()-h)/2;d=oa()-h-d;va.push({delta:d,latency:h});if(10>va.length)setTimeout(function(){f.talk("S",oa())},10),a.message="Syncing clocks, please do not tab away. "+va.length+"/10...";else{va.sort(function(x,w){return x.latency-w.latency});var c=va[Math.floor(va.length/2)].latency,p=0,k=0,D=0;va.forEach(function(x){p+=Math.pow(x.latency-c,2)});p=Math.sqrt(p/va.length);va.forEach(function(x){Math.abs(x.latency-c)<p&&(k+=x.delta,D++)});Qa=Math.round(k/D);console.log(va);console.log("Syncing complete, calculated clock difference "+
Qa+"ms. Beginning game.");a.gameStart=!0;a.message=""}break;case "m":Ha.push({text:d[0],status:2,alpha:0,time:Date.now()});break;case "u":h=d[0];var q=d[1],n=d[2],u=d[3],E=d[4],J=d[5];d=d.slice(6);if(h>I.lastUpdate){hb.add(oa()-h);I.time=h+hb.get();A=h-I.lastUpdate;0>=A&&console.log("yo some bullshit is up wtf");I.lastUpdate=h;g.begin(d);g.gui();g.data();I.cx=q;I.cy=n;I.lastx=I.x;I.lasty=I.y;I.lastvx=I.vx;I.lastvy=I.vy;I.x=q;I.y=n;I.vx=a.died?0:E;I.vy=a.died?0:J;isNaN(I.renderx)&&(I.renderx=I.x);
isNaN(I.rendery)&&(I.rendery=I.y);Xa.reset();I.view=u;if(isNaN(I.renderv)||0===I.renderv)I.renderv=2E3;oa()}else console.log("Old data! Last given time: "+I.time+"; offered packet timestamp: "+h+".");f.talk("d",Math.max(I.lastUpdate,h));f.cmd.talk();$a++;break;case "b":g.begin(d);g.broadcast();break;case "p":y=a.time-d[0];break;case "F":a.finalScore=V(0,4);a.finalScore.set(d[0]);a.finalLifetime=V(0,5);a.finalLifetime.set(d[1]);a.finalKills=[V(0,3),V(0,4.5),V(0,2.5)];a.finalKills[0].set(d[2]);a.finalKills[1].set(d[3]);
a.finalKills[2].set(d[4]);a.finalKillers=[];for(h=0;h<d[5];h++)a.finalKillers.push(d[6+h]);a.died=!0;window.onbeforeunload=function(){return!1};break;case "K":window.onbeforeunload=function(){return!1};break;default:throw Error("Unknown message index.");}};f.onclose=function(){f.open=!1;a.disconnected=!0;1==a.state&&ka(!0);clearInterval(f.commandCycle);window.onbeforeunload=function(){return!1};console.log("Socket closed.")};f.onerror=function(d){console.log("WebSocket error: "+d);a.message="Socket error. Maybe another server will work."};
return f}}(),Ra=function(){var e=document.createElement("div");document.body.appendChild(e);return function(g,b,f){b+=Q.graphical.fontSizeBoost;e.style.font="bold "+b+"px Ubuntu";e.style.padding="0";e.style.margin="0";e.style.position="absolute";e.style.visibility="hidden";e.innerHTML=g;g=e.clientWidth;b=e.clientHeight;return(void 0===f?0:f)?{width:g,height:b}:g}}(),z=function(){var e=function(b){b=void 0===b?null:b;var f=!0;return{update:function(d){var h=!1;if(null==b)h=!0;else switch(typeof d!=
typeof b&&(h=!0),typeof d){case "number":case "string":d!==b&&(h=!0);break;case "object":if(Array.isArray(d)){if(d.length!==b.length)h=!0;else for(var c=0,p=d.length;c<p;c++)d[c]!==b[c]&&(h=!0);break}default:throw console.log(d),Error("Unsupported type for a floppyvar!");}h&&(f=!0,b=d)},publish:function(){return b},check:function(){return f?(f=!1,!0):!1}}},g=0;return function(){var b=document.createElement("canvas"),f="textCanvasNo"+g++;b.setAttribute("id",f);var d=b.getContext("2d");d.imageSmoothingEnabled=
!1;var h=[e(""),e(0),e(0),e(1),e("#FF0000"),e("left")];h.map(function(k){return k.publish()});var c=0,p=0;return{draw:function(k,D,q,n,u,E,J,x){E=void 0===E?"left":E;J=void 0===J?!1:J;n+=Q.graphical.fontSizeBoost;x=m.getTransform().a;n*=x;h[0].update(k);h[1].update(D);h[2].update(q);h[3].update(n);h[4].update(u);h[5].update(E);if(h.some(function(t){return t.check()})){var w=Math.max(3,n/5),C=Ra(k,n-Q.graphical.fontSizeBoost,!0);d.canvas.height=C.height+2*w;d.canvas.width=C.width+2*w;switch(E){case "left":case "start":c=
w;break;case "center":c=d.canvas.width/2;break;case "right":case "end":c=d.canvas.width-w}p=d.canvas.height/2;d.lineWidth=w;d.font="bold "+n+"px Ubuntu";d.textAlign=E;d.textBaseline="middle";d.strokeStyle=r.black;d.fillStyle=u;d.lineCap="round";d.lineJoin="round";d.strokeText(k,c,p);d.fillText(k,c,p)}m.save();m.imageSmoothingEnabled=!1;m.drawImage(d.canvas,Math.round(D-c/x),Math.round(q-p*(1.05+.45*!J)/x),d.canvas.width/x,d.canvas.height/x);m.restore()},remove:function(){var k=document.getElementById(f);
null!=k&&k.parentNode.removeChild(k)}}}}(),Ca=function(){return function(e,g,b,f,d,h,c,p,k,D,q,n){d=void 0===d?1:d;h=void 0===h?1:h;c=void 0===c?0:c;p=void 0===p?!1:p;k=void 0===k?!1:k;D=void 0===D?!1:D;q=void 0===q?b.render:q;var u=k||m,E=D?1:q.status.getFade();h=h*f*b.size;var J=ra[b.index],x=e,w=g;D=!1===D?b:D;if(0!==E&&0!==d){q.expandsWithDeath&&(h*=1+.5*(1-E));if(k!==m&&(1!==E||1!==d))if(Q.graphical.fancyAnimations)u=fb,u.canvas.width=u.canvas.height=h*J.position.axis+20*f,x=u.canvas.width/2-
h*J.position.axis*J.position.middle.x*Math.cos(c)/4,w=u.canvas.height/2-h*J.position.axis*J.position.middle.x*Math.sin(c)/4,k=!1;else if(.5>E*d)return;"object"!==typeof u&&(u=m);u.lineCap="round";u.lineJoin="round";if(!n){if(D.turrets.length===J.turrets.length)for(var C=0;C<J.turrets.length;C++){var t=J.turrets[C];if(0===t.layer){var K=t.direction+t.angle+c,H=t.offset*h;Ca(x+H*Math.cos(K),w+H*Math.sin(K),t,f,d,h/f/t.size*t.sizeFactor,D.turrets[C].facing+p*c,p,u,D.turrets[C],q,n)}}else throw Error("Mismatch turret number with mockup.");
D.guns.update();u.lineWidth=Math.max(Q.graphical.mininumBorderChunk,f*Q.graphical.borderChunk);B(u,n?Q.graphical.shadowColor:Ga(r.grey,q.status.getColor(),q.status.getBlend()));if(D.guns.length===J.guns.length)for(C=D.guns.getPositions(),t=0;t<J.guns.length;t++){var F=J.guns[t],O=C[t]/(1===F.aspect?2:1);K=u;H=x+h*(F.offset*Math.cos(F.direction+F.angle+c)+(F.length/2-O)*Math.cos(F.angle+c));var aa=w+h*(F.offset*Math.sin(F.direction+F.angle+c)+(F.length/2-O)*Math.sin(F.angle+c));O=h*(F.length/2-(1===
F.aspect?2*O:0));var W=h*F.width/2,X=F.aspect;F=F.angle+c;var da=!n;da=void 0===da?!0:da;X=0<X?[W*X,W]:[W,-W*X];W=[Math.atan2(X[0],O),Math.atan2(X[1],O)];O=[Math.sqrt(O*O+X[0]*X[0]),Math.sqrt(O*O+X[1]*X[1])];K.beginPath();K.lineTo(H+O[0]*Math.cos(F+W[0]),aa+O[0]*Math.sin(F+W[0]));K.lineTo(H+O[1]*Math.cos(F+Math.PI-W[1]),aa+O[1]*Math.sin(F+Math.PI-W[1]));K.lineTo(H+O[1]*Math.cos(F+Math.PI+W[1]),aa+O[1]*Math.sin(F+Math.PI+W[1]));K.lineTo(H+O[0]*Math.cos(F-W[0]),aa+O[0]*Math.sin(F-W[0]));K.closePath();
da&&K.stroke();K.fill()}else throw Error("Mismatch gun number with mockup.");}u.globalAlpha=1;B(u,n?Q.graphical.shadowColor:Ga(L(b.color),q.status.getColor(),q.status.getBlend()));b=u;C=x;t=w;K=h/J.size*J.realSize;H=J.shape;F=c;aa=!0;O=!n;aa=void 0===aa?!0:aa;O=void 0===O?!0:O;F=(void 0===F?0:F)+(H%2?0:Math.PI/H);b.beginPath();if(!H)F=b.strokeStyle,da=b.fillStyle,O&&(b.fillStyle=F,b.arc(C,t,K+m.lineWidth/2,0,2*Math.PI),b.fill()),m.closePath(),m.beginPath(),b.fillStyle=da,b.arc(C,t,K,0,2*Math.PI),
b.fill(),m.closePath();else if(0>H)for(Q.graphical.pointy&&(b.lineJoin="miter"),da=1-6/H/H,H=-H,b.moveTo(C+K*Math.cos(F),t+K*Math.sin(F)),W=0;W<H;W++){X=(W+1)/H*2*Math.PI;var S=(W+.5)/H*2*Math.PI;b.quadraticCurveTo(C+K*da*Math.cos(S+F),t+K*da*Math.sin(S+F),C+K*Math.cos(X+F),t+K*Math.sin(X+F))}else if(0<H)for(da=0;da<H;da++)W=da/H*2*Math.PI,b.lineTo(C+K*Math.cos(W+F),t+K*Math.sin(W+F));b.closePath();0!=H&&(O&&b.stroke(),aa&&b.fill());b.lineJoin="round";if(!n)if(D.turrets.length===J.turrets.length)for(b=
0;b<J.turrets.length;b++)C=J.turrets[b],1===C.layer&&(t=C.direction+C.angle+c,K=C.offset*h,Ca(x+K*Math.cos(t),w+K*Math.sin(t),C,f,d,h/f/C.size*C.sizeFactor,D.turrets[b].facing+p*c,p,u,D.turrets[b],q,n));else throw Error("Mismatch turret number with mockup.");k||u===m||(m.save(),m.globalAlpha=d*E,m.drawImage(u.canvas,e-x,g-w),m.restore())}}}();window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||
function(e){}}();window.cancelAnimFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame;var rb=function(){function e(){var t=[];return function(K,H,F,O,aa,W){for(t.push(K);t.length>O;)t.splice(0,1);K=Math.min.apply(Math,$jscomp.arrayFromIterable(t));var X=Math.max.apply(Math,$jscomp.arrayFromIterable(t)),da=X-K;0<X&&0>K&&ba(H,H+O,F+aa*X/da,2,r.guiwhite);m.beginPath();var S=-1;t.forEach(function(P){++S?m.lineTo(H+S,F+aa*(X-P)/da):m.moveTo(H,F+aa*(X-P)/da)});m.lineWidth=1;m.strokeStyle=
W;m.stroke()}}var g=V(0,.7,1.5),b=V(0,2,3),f=function(){return function(){var t=0,K=0;return{set:function(H,F){H=void 0===H?I.time:H;F=void 0===F?A:F;t=Math.max(oa()-H-80,-F);150<t&&1E3>t&&(t=150);1E3<t&&(t=1E6*Math.sin(t/1E3-1)/t+1E3);K=t/F},predict:function(H,F,O,aa){if(0<=t)H=F+(F-H)*K;else{var W=Math.cos((1+K)*Math.PI);H=.5*(((1+K)*O+H)*(W+1)+(-K*aa+F)*(1-W))}return H},predictFacing:function(H,F){var O=2*Math.PI;return H+(1+K)*(((F-H+Math.PI)%O+O)%O-Math.PI)},lerp:T.lerp,lerpAngle:function(H,
F,O,aa){var W=Math.sin(H),X=Math.sin(F);H=T.lerp(Math.cos(H),Math.cos(F),O,aa);O=T.lerp(W,X,O,aa);return Math.atan2(O,H)},getPrediction:function(){return t}}}}();e();e();e();var d=function(){for(var t=[],K=0;K<2*Q.gui.expectedMaxSkillLevel;K++)t.push(Math.log(K/Q.gui.expectedMaxSkillLevel*4+1)/Math.log(5));return function(H){return t[H]}}(),h=[z(),z(),z(),z(),z(),z(),z(),z(),z(),z()],c=[z(),z(),z(),z(),z(),z(),z(),z(),z(),z()],p=[z(),z(),z(),z(),z(),z(),z(),z(),z(),z()],k=z(),D=z(),q=z(),n=z(),u=
[z(),z(),z(),z(),z(),z(),z()],E=z(),J=[z(),z(),z(),z(),z(),z(),z(),z(),z(),z()],x=[z(),z(),z(),z(),z(),z(),z(),z()],w=[z(),z(),z(),z(),z(),z(),z(),z()],C=z();return function(t){Ka++;var K=f();K.set();K.getPrediction();I.renderx=T.lerp(I.renderx,I.cx,.2);I.rendery=T.lerp(I.rendery,I.cy,.2);var H=t*I.renderx;var F=t*I.rendery;pa(r.white,1);pa(r.guiblack,.1);var O=Ba[0].length,aa=Ba.length,W=0;Ba.forEach(function(v){var R=0;v.forEach(function(Z){var fa=Math.max(0,t*R*a.gameWidth/O-H+a.screenWidth/2),
Y=Math.max(0,t*W*a.gameHeight/aa-F+a.screenHeight/2),wa=Math.min(a.screenWidth,t*(R+1)*a.gameWidth/O-H+a.screenWidth/2),ha=Math.min(a.screenHeight,t*(W+1)*a.gameHeight/aa-F+a.screenHeight/2);m.globalAlpha=1;m.fillStyle=Q.graphical.screenshotMode?r.guiwhite:r.white;m.fillRect(fa,Y,wa-fa,ha-Y);m.globalAlpha=.3;m.fillStyle=Q.graphical.screenshotMode?r.guiwhite:ea(Z,!0);m.fillRect(fa,Y,wa-fa,ha-Y);R++});W++});m.globalAlpha=1;xa.forEach(function(v){if(!v.render.draws)return 1;var R=f();1===v.render.status.getFade()?
R.set():R.set(v.render.lastRender,v.render.interval);v.render.x=R.lerp(v.render.x,v.x+v.vx,.25);v.render.y=R.lerp(v.render.y,v.y+v.vy,.25);v.render.f=v.id!==M.playerid||v.twiggle?R.lerpAngle(v.render.f,v.facing,.25):Math.atan2(Oa.y,Oa.x);R=t*v.render.x-H;var Z=t*v.render.y-F;R+=a.screenWidth/2;Z+=a.screenHeight/2;Ca(R,Z+20*t,v,t,v.id===M.playerid||a.showInvisible?v.alpha?.6*v.alpha+.4:.25:v.alpha,1.2,v.render.f,void 0,void 0,void 0,void 0,!0)});xa.forEach(function(v){if(!v.render.draws)return 1;var R=
t*v.render.x-H,Z=t*v.render.y-F;R+=a.screenWidth/2;Z+=a.screenHeight/2;Ca(R,Z,v,t,v.id===M.playerid||a.showInvisible?v.alpha?.6*v.alpha+.4:.25:v.alpha,1,v.render.f)});Q.graphical.screenshotMode||xa.forEach(function(v){var R=t*v.render.x-H,Z=t*v.render.y-F;R+=a.screenWidth/2;Z+=a.screenHeight/2;m.globalAlpha=Math.pow(v.render.status.getFade(),2);var fa=v.size*t/1.1,Y=ra[v.index];Y=fa/Y.size*Y.realSize;if(v.drawsHealth){var wa=v.render.health.get(),ha=v.render.shield.get();if(1>wa||1>ha){var Sa=Z+1.1*
Y+15*t;ba(R-fa,R+fa,Sa,(2+Q.graphical.barChunk)*t,r.black);ba(R-fa,R-fa+2*fa*wa,Sa,3.5*t,r.lgreen);ha&&(m.globalAlpha=.3+.3*ha,ba(R-fa,R-fa+2*fa*ha,Sa,2*t,r.teal),m.globalAlpha=1)}}v.nameplate&&v.id!==M.playerid&&(null==v.render.textobjs&&(v.render.textobjs=[z(),z()]),"\x00"!==v.name?(v.render.textobjs[0].draw(v.name,R,Z-Y-30,16,r.guiwhite,"center"),v.render.textobjs[1].draw(T.handleLargeNumber(v.score,!0),R,Z-Y-16,8,r.guiwhite,"center")):(v.render.textobjs[0].draw("a spoopy \ud83d\udc7b",R,Z-Y-30,
16,r.lavender,"center"),v.render.textobjs[1].draw(T.handleLargeNumber(v.score,!0),R,Z-Y-16,8,r.lavender,"center")))});K=function(v,R){a.screenWidth/=v;a.screenHeight/=v;m.scale(v,v);R||(a.scaleGuiRatio*=v)};K(a.scaleGuiRatio,!0);M.__s.update();for(var X=db.get(),da=X.max,S=a.screenWidth/2,P=20,la=Ha.length-1;0<=la;la--){var ca=Ha[la],ib=ca.text;null==ca.textobj&&(ca.textobj=z());null==ca.len&&(ca.len=Ra(ib,14));m.globalAlpha=.5*ca.alpha;ba(S-ca.len/2,S+ca.len/2,P+9,18,r.black);m.globalAlpha=Math.min(1,
ca.alpha);ca.textobj.draw(ib,S,P+9,14,r.guiwhite,"center",!0);P+=22;1<ca.status&&(P-=22*(1-Math.sqrt(ca.alpha)));1<ca.status?(ca.status-=.05,ca.alpha+=.05):0===la&&(5<Ha.length||1E4<Date.now()-ca.time)&&(ca.status-=.05,ca.alpha-=.05,0>=ca.alpha&&(Ha[0].textobj.remove(),Ha.splice(0,1)))}m.globalAlpha=1;a.canSkill=!!M.points;g.set(0+(a.canSkill||a.died||a.statHover));a.clickables.stat.hide();var ja=200,jb=ja,ma=-20-2*ja+g.get()*(40+2*ja),na=a.screenHeight-20-15,Da=11,vb=M.getStatNames(ra[M.type].statnames||
-1);M.skills.forEach(function(v){Da--;var R=vb[Da-1],Z=v.amount,fa=r[v.color],Y=v.softcap;v=v.cap;if(Y){ja=jb;var wa=Q.gui.expectedMaxSkillLevel,ha=Y<v;Y>wa&&(wa=Y);ba(ma+7.5,ma-7.5+ja*d(Y),na+7.5,12+Q.graphical.barChunk,r.black);ba(ma+7.5,ma+7.5+(ja-35)*d(Y),na+7.5,12,r.grey);ba(ma+7.5,ma+7.5+(ja-35)*d(Z),na+7.5,11.5,fa);if(ha)for(m.lineWidth=1,m.strokeStyle=r.grey,ha=Y+1;ha<wa;ha++)Fa(ma+(ja-35)*d(ha),na+1.5,ma+(ja-35)*d(ha),na-3+15);m.strokeStyle=r.black;for(ha=m.lineWidth=1;ha<Z+1;ha++)Fa(ma+
(ja-35)*d(ha),na+1.5,ma+(ja-35)*d(ha),na-3+15);ja=jb*d(wa);Y=Z==v?fa:!M.points||Y!==v&&Z==Y?r.grey:r.guiwhite;h[Da-1].draw(R,Math.round(ma+ja/2)+.5,na+7.5,10,Y,"center",!0);c[Da-1].draw("["+Da%10+"]",Math.round(ma+ja-3.75)-1.5,na+7.5,10,Y,"right",!0);Y===r.guiwhite&&a.clickables.stat.place(Da-1,ma*a.scaleGuiRatio,na*a.scaleGuiRatio,ja*a.scaleGuiRatio,15*a.scaleGuiRatio);Z&&p[Da-1].draw(Y===fa?"MAX":"+"+Z,Math.round(ma+ja+4)+.5,na+7.5,10,fa,"left",!0);na-=19}});a.clickables.hover.place(0,0,na*a.scaleGuiRatio,
.8*ja*a.scaleGuiRatio,.8*(a.screenHeight-na)*a.scaleGuiRatio);0!==M.points&&k.draw("x"+M.points,Math.round(ma+ja-2)+.5,Math.round(na+15-4)+.5,20,r.guiwhite,"right");a.inGame&&(a.animations.scoreBar=T.lerp(a.animations.scoreBar,0,.1));m.save();m.translate(0,200*a.animations.scoreBar);S=25;P=(a.screenWidth-330)/2;la=a.screenHeight-20-S;m.lineWidth=1;ba(P,P+330,la+S/2,S-3+Q.graphical.barChunk,r.black);ba(P,P+330,la+S/2,S-3,r.grey);ba(P,P+330*M.__s.getProgress(),la+S/2,S-3.5,r.gold);n.draw("Level "+M.__s.getLevel()+
" "+ra[M.type].name,P+165,la+S/2,S-4,r.guiwhite,"center",!0);S=14;la-=S+4;ba(P+33,P+297,la+S/2,S-3+Q.graphical.barChunk,r.black);ba(P+33,P+297,la+S/2,S-3,r.grey);ba(P+33,P+330*(.1+.8*(da?Math.min(1,M.__s.getScore()/da):1)),la+S/2,S-3.5,r.green);D.draw("Score: "+T.handleLargeNumber(M.__s.getScore()),P+165,la+S/2,S-2,r.guiwhite,"center",!0);m.lineWidth=4;q.draw(I.name,Math.round(P+165)+.5,Math.round(la-10-4)+.5,32,r.guiwhite,"center");m.restore();var ya=a.screenWidth-200-20,za=a.screenHeight-200-20;
m.globalAlpha=.6;var kb=Ba[0].length,lb=Ba.length,mb=0;Ba.forEach(function(v){var R=0;v.forEach(function(Z){m.fillStyle=ea(Z,!1);ia(ya+200*R++/kb,za+200*mb/lb,200/kb,200/lb)});mb++});m.globalAlpha=.3;m.fillStyle=Ga(r.grey,r.vlgrey);ia(ya,za,200,200);m.globalAlpha=1;S=$jscomp.makeIterator(eb.get());for(P=S.next();!P.done;P=S.next())P=P.value,m.fillStyle=Ga(L(P.color),r.black,.3),2===P.type?ia(ya+(P.x-P.size)/a.gameWidth*200-.4,za+(P.y-P.size)/a.gameWidth*200-1,2*P.size/a.gameWidth*200+.2,2*P.size/
a.gameWidth*200+.2):1===P.type?ua(ya+P.x/a.gameWidth*200,za+P.y/a.gameWidth*200,P.size/a.gameWidth*200+.2):P.id!==M.playerid&&ua(ya+P.x/a.gameWidth*200,za+P.y/a.gameWidth*200,2);m.globalAlpha=1;m.lineWidth=1;m.strokeStyle=r.black;m.fillStyle=r.black;ua(ya+I.x/a.gameWidth*200-1,za+I.y/a.gameWidth*200-1,2,!1);m.lineWidth=3;m.fillStyle=r.black;ia(ya,za,200,200,!0);u[3].draw("openarras-2ebc3e1ad61d3f368d917cddbfe49a2eb998d74984d7bc6ba36320d125cb6670",a.screenWidth/2,16,12,r.guiwhite,"center");u[1].draw((100*
M.fps).toFixed(2)+"% : "+l+" FPS",ya+200,za-10-14,10,10<l?r.guiwhite:r.orange,"right");u[0].draw(y+".0 ms",ya+200,za-10,10,r.guiwhite,"right");var Aa=a.screenWidth-200-20,Ea=41;E.draw("Leaderboard",Math.round(Aa+100)+.5,Math.round(Ea-6)+.5,18,r.guiwhite,"center");var wb=0;X.data.forEach(function(v){ba(Aa,Aa+200,Ea+7,11+Q.graphical.barChunk,r.black);ba(Aa,Aa+200,Ea+7,11,r.grey);ba(Aa,Aa+200*Math.min(1,v.score/da),Ea+7,10.5,v.barColor);J[wb++].draw(v.label+": "+T.handleLargeNumber(Math.round(v.score)),
Aa+100,Ea+7,9,r.guiwhite,"center",!0);var R=14/v.position.axis;Ca(Aa-21-R*v.position.middle.x*.707,Ea+7+R*v.position.middle.x*.707,v.image,1/R,1,R*R/v.image.size,-Math.PI/4,!0);Ea+=18});b.set(0+(a.canUpgrade||a.upgradeHover));var nb=b.get();a.clickables.upgrade.hide();if(0<M.upgrades.length){a.canUpgrade=!0;var xb=function(v){switch(v){case 0:return"y";case 1:return"h";case 2:return"u";case 3:return"j";case 4:return"i";case 5:return"k";case 6:return"o";case 7:return"l"}},qa=40*nb-20,yb=qa,ta=20;S=
qa;var ob=0,Ta=ta,pb=0;Ia+=.01;var qb=10,Ua=0;M.upgrades.forEach(function(v){ta>Ta&&(Ta=ta);ob=qa;a.clickables.upgrade.place(Ua++,qa*a.scaleGuiRatio,ta*a.scaleGuiRatio,100*a.scaleGuiRatio,100*a.scaleGuiRatio);m.globalAlpha=.5;m.fillStyle=L(qb);ia(qa,ta,100,100);m.globalAlpha=.1;m.fillStyle=L(-10+qb++);ia(qa,ta,100,60);m.fillStyle=r.black;ia(qa,ta+60,100,40);m.globalAlpha=1;var R=N(v,M.color);v=ra[v].position;var Z=60/v.axis;Ca(qa+50-Z*v.middle.x*Math.cos(Ia),ta+50-Z*v.middle.x*Math.sin(Ia),R,1,1,
Z/R.size,Ia,!0);x[Ua-1].draw(R.name,qa+45,ta+100-6,9.5,r.guiwhite,"center");w[Ua-1].draw("["+xb(pb)+"]",qa+100-4,ta+100-6,9.5,r.guiwhite,"right");m.strokeStyle=r.black;m.globalAlpha=1;m.lineWidth=3;ia(qa,ta,100,100,!0);0===++pb%3?(qa=yb,ta+=114):qa+=114*nb});X=Ra("Don't Upgrade",11)+10;S+=(ob+100+14-S)/2;P=Ta+100+14;ba(S-X/2,S+X/2,P+7,14+Q.graphical.barChunk,r.black);ba(S-X/2,S+X/2,P+7,14,r.white);C.draw("Don't Upgrade",S,P+7,12,r.guiwhite,"center",!0);a.clickables.skipUpgrades.place(0,(S-X/2)*a.scaleGuiRatio,
P*a.scaleGuiRatio,X*a.scaleGuiRatio,14*a.scaleGuiRatio)}else a.canUpgrade=!1,a.clickables.upgrade.hide(),a.clickables.skipUpgrades.hide();K(1/a.scaleGuiRatio,!0);oa()}}(),tb=function(){var e=z(),g=z(),b=z(),f=z(),d=z(),h=z(),c=z(),p=function(){var k="";a.finalKillers.length?(k="\ud83d\udd2a Succumbed to",a.finalKillers.forEach(function(D){k+=" "+T.addArticle(ra[D].name)+" and"}),k=k.slice(0,-4)+"."):k+="\ud83e\udd37 Well that was kinda dumb huh";return k};return function(){pa(r.black,.25);var k=a.screenWidth/
2,D=a.screenHeight/2-50,q=N(M.type,M.color),n=ra[M.type].position,u=140/n.axis;Ca(a.screenWidth/2-u*n.middle.x*.707-190-70,a.screenHeight/2-35+u*n.middle.x*.707-10,q,1.5,1,.5*u/q.realSize,-Math.PI/4,!0);e.draw("lol you died",k,D-80,8,r.guiwhite,"center");g.draw("Level "+M.__s.getLevel()+" "+ra[M.type].name+".",k-170,D-30,24,r.guiwhite);b.draw("Final score: "+T.formatLargeNumber(Math.round(a.finalScore.get())),k-170,D+25,50,r.guiwhite);f.draw("\u231a Survived for "+T.timeForHumans(Math.round(a.finalLifetime.get()))+
".",k-170,D+55,16,r.guiwhite);q=d.draw;n=[Math.round(a.finalKills[0].get()),Math.round(a.finalKills[1].get()),Math.round(a.finalKills[2].get())];u=n[0]+.5*n[1]+3*n[2];q.call(d,(0===u?"\ud83c\udf3c":4>u?"\ud83c\udfaf":8>u?"\ud83d\udca5":15>u?"\ud83d\udca2":25>u?"\ud83d\udd25":50>u?"\ud83d\udca3":75>u?"\ud83d\udc7a":100>u?"\ud83c\udf36\ufe0f":"\ud83d\udcaf")+(n[0]||n[1]||n[2]?" "+(n[0]?n[0]+" kills":"")+(n[0]&&n[1]?" and ":"")+(n[1]?n[1]+" assists":"")+((n[0]||n[1])&&n[2]?" and ":"")+(n[2]?n[2]+" visitors defeated":
""):" A true pacifist")+".",k-170,D+77,16,r.guiwhite);h.draw(p(),k-170,D+99,16,r.guiwhite);c.draw("Press enter to play again!",k,D+125,16,r.guiwhite,"center")}}(),sb=function(){var e=z(),g=z();return function(){pa(r.white,.5);e.draw("Connecting...",a.screenWidth/2,a.screenHeight/2,30,r.guiwhite,"center");g.draw(a.message,a.screenWidth/2,a.screenHeight/2+30,15,r.lgreen,"center")}}(),ub=function(){var e=z(),g=z();return function(){pa(Ga(r.red,r.guiblack,.3),.25);e.draw("(Press enter to reconnect)",
a.screenWidth/2,a.screenHeight/2-30,15,r.guiwhite,"center");e.draw("\ud83d\udc80 Disconnected. \ud83d\udc80",a.screenWidth/2,a.screenHeight/2,30,r.guiwhite,"center");g.draw(a.message,a.screenWidth/2,a.screenHeight/2+30,15,r.orange,"center")}}();Ya();setTimeout(function(){a.animations.enterToStartActivated=!0},3E3);setTimeout(function(){a.animations.loading=!0;T.pullJSON((a.secure?window.location.protocol+"//":"http://")+a.server+"/versionInfo.json").then(function(e){console.log(e);a.serverVersion=
e.version;a.version!=e.version&&(a.state=2)})},1E3)})();}).call(this || window)
